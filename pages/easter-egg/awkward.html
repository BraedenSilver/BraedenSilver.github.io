<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Oops, This Is Awkward — Braeden Silver</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="We couldn't find something to show you, so enjoy the Kilroys instead."
    />
    <meta property="og:title" content="Oops, This Is Awkward — Braeden Silver" />
    <meta
      property="og:description"
      content="A surprise page full of colorful Kilroys when the randomizer runs out of ideas."
    />
    <link rel="stylesheet" href="/assets/site.css" />
  </head>
  <body class="awkward-page" data-section="awkward">
    <div id="site-header">
      <noscript>
        <div class="noscript-banner" role="alert">
          JavaScript powers the interactive parts of this site. Please enable it
          to explore everything on BraedenSilver.com.
          <a href="/pages/help/enable-javascript/index.html">
            Learn how to turn on JavaScript.
          </a>
        </div>
      </noscript>
    </div>

    <main id="main-content">
      <nav class="page-back" aria-label="Back navigation">
        <a class="project-entry back-link" href="/index.html">
          <span class="back-link-icon" aria-hidden="true">←</span>
          <span class="back-link-label">Take me back home</span>
        </a>
      </nav>
      <h1>Oops, this is awkward.</h1>
      <p class="awkward-page__lead">
        Welcome to the Kilroy crew.
      </p>
      <div class="awkward-page__actions">
        <a href="/pages/blog/index.html">Browse the full blog</a>
        <a href="/pages/projects/index.html">Explore every project</a>
        <a href="/pages/research/index.html">Inspect all research notes</a>
      </div>
      <div
        class="awkward-killroy-field"
        id="awkward-killroy-field"
        aria-hidden="true"
      ></div>
    </main>

    <div id="site-footer">
      <noscript>
        <div class="noscript-banner" role="alert">
          JavaScript powers the interactive parts of this site. Please enable it
          to explore everything on BraedenSilver.com.
          <a href="/pages/help/enable-javascript/index.html">
            Learn how to turn on JavaScript.
          </a>
        </div>
      </noscript>
    </div>

    <script src="/js/site.js" defer></script>
    <script>
      (function () {
        const field = document.getElementById("awkward-killroy-field");
        if (!field) {
          return;
        }
        const total = 7;
        const fragment = document.createDocumentFragment();
        for (let i = 0; i < total; i += 1) {
          const el = document.createElement("div");
          el.className = "awkward-killroy footer-eyes";
          el.innerHTML =
            '<div class="awkward-killroy__head">' +
            '  <div class="eye left"><div class="pupil"></div></div>' +
            '  <div class="eye right"><div class="pupil"></div></div>' +
            "</div>";
          fragment.appendChild(el);
        }
        field.appendChild(fragment);

        function randomInRange(min, max) {
          return Math.random() * (max - min) + min;
        }

        function toHsl(hue, saturation, lightness) {
          return `hsl(${Math.round(hue)}deg ${saturation.toFixed(1)}% ${lightness.toFixed(1)}%)`;
        }

        const isCompactViewport =
          typeof window.matchMedia === "function"
            ? window.matchMedia("(max-width: 600px)").matches
            : false;

        requestAnimationFrame(() => {
          field.querySelectorAll(".awkward-killroy").forEach((el) => {
            el.style.removeProperty("--awkward-border");
            el.style.removeProperty("--awkward-shadow");
            el.style.removeProperty("--awkward-pupil");

            const hue = randomInRange(0, 360);
            const saturation = randomInRange(62, 88);
            const lightness = randomInRange(56, 78);

            const x = randomInRange(12, 88);
            const y = randomInRange(12, 88);
            const minSize = isCompactViewport ? 102 : 120;
            const maxSize = isCompactViewport ? 148 : 176;
            const size = randomInRange(minSize, maxSize);
            const rotate = randomInRange(-7, 7);

            const eyeOffset = Math.round(size * randomInRange(0.19, 0.22));
            const eyeTop = Math.round(size * randomInRange(0.32, 0.36));
            const eyeSize = Math.round(size * randomInRange(0.22, 0.25));
            const eyeBorder = Math.min(4, Math.max(2, Math.round(size * 0.018)));
            const borderWidth = Math.min(3, Math.max(2, Math.round(size * 0.016)));
            const shadowOffset = Math.min(8, Math.max(4, Math.round(size * 0.035)));

            const scleraLightness = Math.min(97, lightness + randomInRange(24, 32));
            const scleraColor = toHsl(
              hue,
              Math.max(6, saturation - 46),
              scleraLightness
            );

            el.style.setProperty("--awkward-skin", toHsl(hue, saturation, lightness));
            el.style.setProperty("--awkward-sclera", scleraColor);
            el.style.setProperty("--killroy-x", `${x.toFixed(2)}%`);
            el.style.setProperty("--killroy-y", `${y.toFixed(2)}%`);
            el.style.setProperty("--killroy-rotate", `${rotate.toFixed(1)}deg`);
            el.style.setProperty("--awkward-size", `${size.toFixed(0)}px`);
            el.style.setProperty("--eye-offset", `${eyeOffset}px`);
            el.style.setProperty("--eye-top", `${eyeTop}px`);
            el.style.setProperty("--eye-size", `${eyeSize}px`);
            el.style.setProperty("--eye-border", `${eyeBorder}px`);
            el.style.setProperty("--awkward-border-width", `${borderWidth}px`);
            el.style.setProperty("--awkward-shadow-offset", `${shadowOffset}px`);
          });
        });
      })();
    </script>
  </body>
</html>
